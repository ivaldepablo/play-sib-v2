import type { NextApiRequest, NextApiResponse } from "next";
import { db } from "~/server/db";

const questions = [
  {
    category: "–ñ–∏–∑–Ω—å —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤",
    text: "–ö–∞–∫–æ–π —Ç–∏–ø –∂–∏–ª–æ–≥–æ –∑–¥–∞–Ω–∏—è —á–∞—â–µ –≤—Å–µ–≥–æ –±—ã–ª –ø—Ä–∏–∑–Ω–∞–∫–æ–º –±–æ–≥–∞—Ç–æ–≥–æ –∫—É–ø—Ü–∞ –≤ –¢–æ–º—Å–∫–µ –≤ –∫–æ–Ω—Ü–µ XIX - –Ω–∞—á–∞–ª–µ XX –≤–µ–∫–æ–≤?",
    options: [
      "–ü—Ä–æ—Å—Ç–∞—è –∑–µ–º–ª—è–Ω–∫–∞ —Å –ø–µ—á–∫–æ–π",
      "–ú–Ω–æ–≥–æ—ç—Ç–∞–∂–Ω—ã–π –∫–∞–º–µ–Ω–Ω—ã–π –¥–æ—Ö–æ–¥–Ω—ã–π –¥–æ–º",
      "–û–¥–Ω–æ- –∏–ª–∏ –¥–≤—É—Ö—ç—Ç–∞–∂–Ω—ã–π —Ä–µ–∑–Ω–æ–π –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–π –æ—Å–æ–±–Ω—è–∫",
      "–Æ—Ä—Ç–∞ (–ø–µ—Ä–µ–Ω–æ—Å–Ω–æ–µ –∂–∏–ª–∏—â–µ)"
    ],
    answer: "–û–¥–Ω–æ- –∏–ª–∏ –¥–≤—É—Ö—ç—Ç–∞–∂–Ω—ã–π —Ä–µ–∑–Ω–æ–π –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–π –æ—Å–æ–±–Ω—è–∫"
  },
  {
    category: "–î–æ–º–∞—à–Ω–µ–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ",
    text: "–ß—Ç–æ –±—ã–ª–æ –æ—Å–Ω–æ–≤–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º —Ç–æ–ø–ª–∏–≤–∞ –¥–ª—è —Ç–æ–º—Å–∫–∏—Ö –¥–æ–º–æ—Ö–æ–∑—è–π—Å—Ç–≤ –≤ XIX –∏ –Ω–∞—á–∞–ª–µ XX –≤–µ–∫–æ–≤?",
    options: [
      "–£–≥–æ–ª—å, –¥–æ–±—ã–≤–∞–µ–º—ã–π –≤ –æ–∫—Ä–µ—Å—Ç–Ω–æ—Å—Ç—è—Ö –¢–æ–º—Å–∫–∞",
      "–ü—Ä–∏—Ä–æ–¥–Ω—ã–π –≥–∞–∑ –∏–∑ –º–µ—Å—Ç–Ω—ã—Ö –º–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏–π",
      "–î—Ä–æ–≤–∞ (–ª–µ—Å–Ω–æ–µ —Ç–æ–ø–ª–∏–≤–æ)",
      "–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ –¥–ª—è –æ—Ç–æ–ø–ª–µ–Ω–∏—è –¥–æ–º–æ–≤"
    ],
    answer: "–î—Ä–æ–≤–∞ (–ª–µ—Å–Ω–æ–µ —Ç–æ–ø–ª–∏–≤–æ)"
  },
  {
    category: "–ó–Ω–∞–º–µ–Ω–∏—Ç—ã–µ –∫—É–ø–µ—á–µ—Å–∫–∏–µ –¥–∏–Ω–∞—Å—Ç–∏–∏",
    text: "–ß–µ–º –±—ã–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã –∫—É–ø–µ—á–µ—Å–∫–∏–µ —Å–µ–º—å–∏ –¢–æ–º—Å–∫–∞?",
    options: [
      "–§–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ —à–∫–æ–ª –∏ –±–æ–ª—å–Ω–∏—Ü",
      "–ú–∞—Å—Å–æ–≤—ã–º —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ–º —à–∞—Ö—Ç –∏ –Ω–µ—Ñ—Ç—è–Ω—ã—Ö –ø—Ä–æ–º—ã—Å–ª–æ–≤",
      "–ü–µ—Ä–µ—Å–µ–ª–µ–Ω–∏–µ–º –Ω–∞—Å–µ–ª–µ–Ω–∏—è –≤ –¥—Ä—É–≥–∏–µ —Ä–µ–≥–∏–æ–Ω—ã",
      "–ü–æ–ª–Ω–æ–π –∏–∑–æ–ª—è—Ü–∏–µ–π –æ—Ç –≥–æ—Ä–æ–¥—Å–∫–æ–π –∂–∏–∑–Ω–∏"
    ],
    answer: "–§–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ —à–∫–æ–ª –∏ –±–æ–ª—å–Ω–∏—Ü"
  },
  {
    category: "–¢–æ–º—Å–∫ - –∫—Ä—É–ø–Ω—ã–π —Å–∏–±–∏—Ä—Å–∫–∏–π —Ç–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä",
    text: "–ü–æ—á–µ–º—É –¢–æ–º—Å–∫ —Å—á–∏—Ç–∞–ª—Å—è –æ–¥–Ω–∏–º –∏–∑ –≤–∞–∂–Ω—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ü–µ–Ω—Ç—Ä–æ–≤ –°–∏–±–∏—Ä–∏ –≤ XIX –≤–µ–∫–µ?",
    options: [
      "–ë–ª–∞–≥–æ–¥–∞—Ä—è –≤—ã–≥–æ–¥–Ω–æ–º—É —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—é –∫–∞–∫ —Ä–µ—á–Ω–æ–π –ø–æ—Ä—Ç",
      "–ò–∑-–∑–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ –Ω–µ–≥–æ –¢—Ä–∞–Ω—Å—Å–∏–±–∏—Ä—Å–∫–æ–π –º–∞–≥–∏—Å—Ç—Ä–∞–ª–∏",
      "–ò–∑-–∑–∞ –±–æ–ª—å—à–æ–≥–æ –º–æ—Ä—Å–∫–æ–≥–æ –ø–æ—Ä—Ç–∞ –Ω–∞ –æ–∑–µ—Ä–µ –ë–∞–π–∫–∞–ª",
      "–ò–∑-–∑–∞ –∫—Ä—É–ø–Ω–µ–π—à–∏—Ö –≤ –º–∏—Ä–µ –Ω–µ—Ñ—Ç—è–Ω—ã—Ö –º–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏–π"
    ],
    answer: "–ë–ª–∞–≥–æ–¥–∞—Ä—è –≤—ã–≥–æ–¥–Ω–æ–º—É —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—é –∫–∞–∫ —Ä–µ—á–Ω–æ–π –ø–æ—Ä—Ç"
  },
  {
    category: "–†–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–∞",
    text: "–ö–∞–∫–∞—è –ø—Ä–∏—á–∏–Ω–∞ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Å–ø–æ—Å–æ–±—Å—Ç–≤–æ–≤–∞–ª–∞ —Ä–æ—Å—Ç—É –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –¢–æ–º—Å–∫–µ?",
    options: [
      "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –º–æ–Ω–æ–ø–æ–ª–∏—è –Ω–∞ –≤—Å—é —Ç–æ—Ä–≥–æ–≤–ª—é",
      "–ü–æ—è–≤–ª–µ–Ω–∏–µ —á–∞—Å—Ç–Ω—ã—Ö –±–∞–Ω–∫–æ–≤ –∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ñ–∏—Ä–º",
      "–ú–∞—Å—Å–æ–≤–∞—è –∫–æ–ª–ª–µ–∫—Ç–∏–≤–∏–∑–∞—Ü–∏—è –Ω–µ–±–æ–ª—å—à–∏—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤",
      "–ó–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö —Ä—ã–Ω–∫–æ–≤"
    ],
    answer: "–ü–æ—è–≤–ª–µ–Ω–∏–µ —á–∞—Å—Ç–Ω—ã—Ö –±–∞–Ω–∫–æ–≤ –∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ñ–∏—Ä–º"
  },
  {
    category: "–ñ–∏–∑–Ω—å —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤",
    text: "–ö–∞–∫—É—é –æ–¥–µ–∂–¥—É –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–ª–∏ –Ω–æ—Å–∏—Ç—å –∑–∞–∂–∏—Ç–æ—á–Ω—ã–µ —Ç–æ–º—Å–∫–∏–µ –∫—É–ø—Ü—ã?",
    options: [
      "–ü—Ä–æ—Å—Ç—É—é —Ä–∞–±–æ—á—É—é –æ–¥–µ–∂–¥—É",
      "–ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–µ –∫–æ—Å—Ç—é–º—ã –∏ –º–µ—Ö–∞",
      "–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏–±–∏—Ä—Å–∫–∏–µ –Ω–∞—Ä—è–¥—ã",
      "–í–æ–µ–Ω–Ω—É—é —Ñ–æ—Ä–º—É"
    ],
    answer: "–ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–µ –∫–æ—Å—Ç—é–º—ã –∏ –º–µ—Ö–∞"
  },
  {
    category: "–î–æ–º–∞—à–Ω–µ–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ",
    text: "–ß—Ç–æ –±—ã–ª–æ –æ—Å–Ω–æ–≤–æ–π –ø–∏—Ç–∞–Ω–∏—è —Å–∏–±–∏—Ä—Å–∫–∏—Ö —Å–µ–º–µ–π –≤ XIX –≤–µ–∫–µ?",
    options: [
      "–•–ª–µ–±, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å –∏ –º—è—Å–æ",
      "–†—ã–±–∞ –∏ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã",
      "–¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–µ —Ñ—Ä—É–∫—Ç—ã",
      "–¢–æ–ª—å–∫–æ –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã"
    ],
    answer: "–•–ª–µ–±, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å –∏ –º—è—Å–æ"
  },
  {
    category: "–ó–Ω–∞–º–µ–Ω–∏—Ç—ã–µ –∫—É–ø–µ—á–µ—Å–∫–∏–µ –¥–∏–Ω–∞—Å—Ç–∏–∏",
    text: "–ö–∞–∫–∏–µ –¥–∏–Ω–∞—Å—Ç–∏–∏ –±—ã–ª–∏ —Å–∞–º—ã–º–∏ –≤–ª–∏—è—Ç–µ–ª—å–Ω—ã–º–∏ –≤ –¢–æ–º—Å–∫–µ?",
    options: [
      "–°–µ–º—å–∏, –∑–∞–Ω–∏–º–∞–≤—à–∏–µ—Å—è –∑–æ–ª–æ—Ç–æ–¥–æ–±—ã—á–µ–π",
      "–°–µ–º—å–∏, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞–≤—à–∏–µ —Ä–µ—á–Ω—É—é —Ç–æ—Ä–≥–æ–≤–ª—é",
      "–°–µ–º—å–∏ –≤–æ–µ–Ω–Ω—ã—Ö –æ—Ñ–∏—Ü–µ—Ä–æ–≤",
      "–°–µ–º—å–∏ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö –¥–∏–ø–ª–æ–º–∞—Ç–æ–≤"
    ],
    answer: "–°–µ–º—å–∏, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞–≤—à–∏–µ —Ä–µ—á–Ω—É—é —Ç–æ—Ä–≥–æ–≤–ª—é"
  },
  {
    category: "–¢–æ–º—Å–∫ - –∫—Ä—É–ø–Ω—ã–π —Å–∏–±–∏—Ä—Å–∫–∏–π —Ç–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä",
    text: "–ö–∞–∫–∏–µ —Ç–æ–≤–∞—Ä—ã –±—ã–ª–∏ –æ—Å–Ω–æ–≤–æ–π —Ç–æ–º—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏?",
    options: [
      "–ü—É—à–Ω–∏–Ω–∞, –∑–µ—Ä–Ω–æ –∏ –º–µ—Ç–∞–ª–ª—ã",
      "–®–µ–ª–∫ –∏ —Å–ø–µ—Ü–∏–∏",
      "–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–µ –∫–∞–º–Ω–∏",
      "–û—Ä—É–∂–∏–µ –∏ –±–æ–µ–ø—Ä–∏–ø–∞—Å—ã"
    ],
    answer: "–ü—É—à–Ω–∏–Ω–∞, –∑–µ—Ä–Ω–æ –∏ –º–µ—Ç–∞–ª–ª—ã"
  },
  {
    category: "–†–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–∞",
    text: "–ö–∞–∫—É—é —Ä–æ–ª—å –∏–≥—Ä–∞–ª–∏ —è—Ä–º–∞—Ä–∫–∏ –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏ –≤ –¢–æ–º—Å–∫–µ?",
    options: [
      "–û–Ω–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ —Ç–æ—Ä–≥–æ–≤–ª–µ",
      "–û–Ω–∏ –±—ã–ª–∏ —Ü–µ–Ω—Ç—Ä–∞–º–∏ —Ç–æ—Ä–≥–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏",
      "–û–Ω–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π",
      "–û–Ω–∏ –±—ã–ª–∏ –∑–∞–ø—Ä–µ—â–µ–Ω—ã –≤–ª–∞—Å—Ç—è–º–∏"
    ],
    answer: "–û–Ω–∏ –±—ã–ª–∏ —Ü–µ–Ω—Ç—Ä–∞–º–∏ —Ç–æ—Ä–≥–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"
  },
  {
    category: "–ñ–∏–∑–Ω—å —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤",
    text: "–ö–∞–∫ –æ–±—ã—á–Ω–æ –ø—Ä–æ–≤–æ–¥–∏–ª–∏ —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è –∫—É–ø–µ—á–µ—Å–∫–∏–µ —Å–µ–º—å–∏ –¢–æ–º—Å–∫–∞?",
    options: [
      "–ü–æ—Å–µ—â–∞–ª–∏ —Ç–µ–∞—Ç—Ä—ã –∏ –±–∞–ª—ã",
      "–†–∞–±–æ—Ç–∞–ª–∏ –≤ –ø–æ–ª—è—Ö",
      "–û—Ö–æ—Ç–∏–ª–∏—Å—å –≤ —Ç–∞–π–≥–µ",
      "–ó–∞–Ω–∏–º–∞–ª–∏—Å—å —Ä—ã–±–∞–ª–∫–æ–π"
    ],
    answer: "–ü–æ—Å–µ—â–∞–ª–∏ —Ç–µ–∞—Ç—Ä—ã –∏ –±–∞–ª—ã"
  },
  {
    category: "–î–æ–º–∞—à–Ω–µ–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ",
    text: "–ö–∞–∫–∏–µ —Ä–µ–º–µ—Å–ª–∞ –±—ã–ª–∏ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞–∑–≤–∏—Ç—ã –≤ —Ç–æ–º—Å–∫–∏—Ö –¥–æ–º–æ—Ö–æ–∑—è–π—Å—Ç–≤–∞—Ö?",
    options: [
      "–¢–∫–∞—á–µ—Å—Ç–≤–æ –∏ –≤—ã—à–∏–≤–∫–∞",
      "–ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–µ–∫–ª–∞",
      "–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –±—É–º–∞–≥–∏",
      "–ö–æ—Ä–∞–±–ª–µ—Å—Ç—Ä–æ–µ–Ω–∏–µ"
    ],
    answer: "–¢–∫–∞—á–µ—Å—Ç–≤–æ –∏ –≤—ã—à–∏–≤–∫–∞"
  }
];

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  if (req.method !== "POST" && req.method !== "GET") {
    return res.status(405).json({ message: "Method not allowed. Use GET or POST." });
  }

  try {
    console.log("üå± Starting database seeding...");
    console.log(`üì• Request method: ${req.method}`);
    console.log(`üîó Request URL: ${req.url}`);

    // Clear existing questions
    await db.question.deleteMany();
    console.log("üóëÔ∏è Cleared existing questions");

    // Insert new questions
    let insertedCount = 0;
    for (const question of questions) {
      await db.question.create({
        data: {
          category: question.category,
          text: question.text,
          options: JSON.stringify(question.options),
          answer: question.answer,
          isActive: true,
        },
      });
      insertedCount++;
    }

    console.log(`‚úÖ Seeded ${insertedCount} questions`);

    return res.status(200).json({
      success: true,
      message: `Successfully seeded ${insertedCount} questions`,
      totalQuestions: insertedCount,
    });
  } catch (error) {
    console.error("‚ùå Seeding error:", error);
    return res.status(500).json({
      success: false,
      error: "Failed to seed database",
      details: error instanceof Error ? error.message : "Unknown error",
    });
  }
}
